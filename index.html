<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="main.css">	
	<title>Document</title>
</head>
<body>
	<nav>
		<div class="nav__title">
			<p>by <span>Laddu</span> for <span><i>USELESS PROJECTS</i></span></p>
		</div>
		<div class="nav__links"></div>
	</nav>

	<header>
		<div class="header__text">
			<h1>tharuthala<span>gpt</span></h1>
			<marquee behavior="scroll" direction="left" scrollamount="15" scrolldelay="0">
				<p>enthada manda<span>mathan kuthiyal kumbalam mulakkumo</span>fathima chechi is a mandus</p>
			</marquee>
			<marquee behavior="scroll" direction="left" scrollamount="10" scrolldelay="0">
				<p>enthada manda<span>mathan kuthiyal kumbalam mulakkumo</span>fathima chechi is a mandus</p>
			</marquee>
			<marquee behavior="scroll" direction="left" scrollamount="12" scrolldelay="0">
				<p>enthada manda<span>mathan kuthiyal kumbalam mulakkumo</span>fathima chechi is a mandus</p>
			</marquee>
		</div>
		<div class="header__banner">
			<img src="images/hero.jpg" alt="this is the hero image">
		</div>
	</header>

	<section class="rivals">
		<h1></h1>
		<div class="rival__row">
			<div class="rival">
				<div class="rival__banner">
					<img src="images/moh.png" alt="banner" class="rival-img">
				</div>
				<div class="rival__text">
					<h1 class="rival-name">psycho shammi</h1>
					<p class="rival__relation">l\\</p>
					<p class="rival__feature rival-likes"><span>likes </span>cooking</p>
					<p class="rival__feature rival-hates"><span>hates </span>singing</p>
					<br>
				</div>
			</div>	
			<div class="rival">
				<div class="rival__banner">
					<img src="images/shammi.png" alt="banner" class="rival-img">
				</div>
				<div class="rival__text">
					<h1 class="rival-name">psycho shammi</h1>
					<p class="rival__feature rival-likes"><span>likes </span>cooking</p>
					<p class="rival__feature rival-hates"><span>hates </span>singing</p>
					<br>
				</div>
			</div>	
			<div class="rival">
				<div class="rival__banner">
					<img src="images/dileep.png" alt="banner" class="rival-img">
				</div>
				<div class="rival__text">
					<h1 class="rival-name">psycho shammi</h1>
					<p class="rival__feature rival-likes"><span>likes </span>cooking</p>
					<p class="rival__feature rival-hates"><span>hates </span>singing</p>
					<br>
				</div>
			</div>	
			<div class="rival rival--special">
				<h1>+</h1>
				<p>ADD SOMEONE</p>
			</div>	
		</div>
	</div>
</section>

<section class="stats">
	<p class="stats__back"><-</p>
	<div class="stats__block">
		<div class="stats__form">
			<h1>ENTADA MAKKALE <span>PRASNAM</span></h1>	
			<input id="stats-text" type="text">
			<button id="stats-submit">TOTTUPOOVARUTH</button>
		</div>
		<div class="stats__reply">
			<h1 id="stats-reply">REPLY</h1>	
		</div>		
	</div>
</section>

<script type="importmap">
	{
		"imports": {
			"@google/generative-ai": "https://esm.run/@google/generative-ai"
		}
	}
</script>

<script type="module">
		import { GoogleGenerativeAI } from "@google/generative-ai"; const API_KEY = "AIzaSyArsP6Q5j6YSk62Q-1PGf7h9XRoL9K4boE";
		const genAI = new GoogleGenerativeAI(API_KEY);
		const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

document.getElementById("stats-submit").addEventListener("click", async () => {
  let question = document.getElementById("stats-text").value;
  const prompt = `my friend made fun of me using the insult ${question}, and i want you to give me a playful insult response, and only - just give me the reply - don't add anything else`;

  try {
    const result = await model.generateContent(prompt);
    document.getElementById("stats-reply").textContent = result.response.text();
    console.log(result.response.text());
  } catch (error) {
  }
  document.getElementById("stats-submit").value = "TODALLENALLE PARANJE!"
});

	// Firebase
	import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
	import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-analytics.js";
	import { get, child, push, update, getDatabase, ref, onValue } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js';
	const firebaseConfig = {
		apiKey: "AIzaSyB5wBfB6IagekeFlrWIQV2E4tdQsvbAdpQ",
		authDomain: "tharuthala-gpt.firebaseapp.com",
		projectId: "tharuthala-gpt",
		storageBucket: "tharuthala-gpt.firebasestorage.app",
		messagingSenderId: "868982063114",
		appId: "1:868982063114:web:a8da8ece88054c382bdff3",
		measurementId: "G-DXY8NJKZRF"
	};
	const app = initializeApp(firebaseConfig);
	const analytics = getAnalytics(app);

for (let i = 0; i < 3; i++){
	let dbRef = ref(getDatabase(app), `${i}/name`);
	onValue(dbRef, (snapshot) => {
		const data = snapshot.val();
		console.log(data);
		document.querySelectorAll('.rival-name')[i].textContent = data;
	});

	dbRef = ref(getDatabase(app), `${i}/likes`);
	onValue(dbRef, (snapshot) => {
		const data = snapshot.val();
		console.log(data);
		document.querySelectorAll('.rival-likes')[i].innerHTML = `<span>LIKES</span> ${data}`
	});

	dbRef = ref(getDatabase(app), `${i}/hates`);
	onValue(dbRef, (snapshot) => {
		const data = snapshot.val();
		console.log(data);
		document.querySelectorAll('.rival-hates')[i].innerHTML = `<span>HATES</span> ${data}`
	});
}
	console.log(document.querySelectorAll('.rival-likes'))
	for (let i = 0; i < 4; i++) {
		document.querySelectorAll('.rival')[i].addEventListener("click", () => {
			// put something here
			console.log(i)
		})
	}
</script>

<script type="text/javascript" type="module" defer src="script.js"></script>
</body>
</html>
